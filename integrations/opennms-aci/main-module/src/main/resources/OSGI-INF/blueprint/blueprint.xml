<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:cm="http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.1.0"
  xmlns:ext="http://aries.apache.org/blueprint/xmlns/blueprint-ext/v1.1.0"
  xsi:schemaLocation="
		http://www.osgi.org/xmlns/blueprint/v1.0.0
		http://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd
		
		http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.1.0
		http://aries.apache.org/schemas/blueprint-cm/blueprint-cm-1.1.0.xsd
		
		http://aries.apache.org/blueprint/xmlns/blueprint-ext/v1.1.0
		http://aries.apache.org/schemas/blueprint-ext/blueprint-ext-1.1.xsd
">

  <reference id="eventForwarder" interface="org.opennms.netmgt.events.api.EventForwarder" availability="mandatory"/>
  
  <reference id="eventDao" interface="org.opennms.netmgt.dao.api.EventDao" availability="mandatory"/>

  <reference id="nodeDao" interface="org.opennms.netmgt.dao.api.NodeDao" availability="mandatory"/>
  
  <!-- 
  <bean id="nodeCache" class="org.opennms.aci.module.NodeCache">
      <property name="nodeDao" ref="nodeDao" />
  </bean>
   -->
  
  <bean id="southboundConfigDao" class="org.opennms.netmgt.dao.jaxb.southbound.DefaultSouthboundConfigDao">
  <!--
    <property name="configResource" value="file:${opennms.home}/etc/southbound-configuration.xml" />
   -->
    <property name="reloadCheckInterval" value="-1" />
  </bean>
  
  <bean id="apicService" class="org.opennms.aci.module.ApicService" init-method="init" destroy-method="destroy">
       <property name="eventForwarder" ref="eventForwarder"/>
       <property name="southboundConfigDao" ref="southboundConfigDao"/>
       <property name="eventDao" ref="eventDao"/>
       <property name="nodeDao" ref="nodeDao"/>
  </bean>
  
</blueprint>
